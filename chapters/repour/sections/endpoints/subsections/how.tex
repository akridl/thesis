\documentclass[../main.tex]{subfiles}

\begin{document}

Within the listing \ref{lst:init}, every endpoint is created by \textit{endpoint.validated\_json\_endpoint()}\footnote{\url{https://github.com/project-ncl/repour/blob/akridl-thesis/repour/server/endpoint/endpoint.py##L99}} method, which does (from high-level perspective) the following:

\begin{enumerate}
    %% TODO: say about MDC propagations?
    \item \textbf{Parse JSON input request}\\
    In case parsing fails, 400 is returned to the client right away.

    \item \textbf{Validate parsed request}\\
    Every endpoint provides a valid format that all the incoming requests must meet. In case an invalid request is given, 400 is returned.

    \item \textbf{Call the function}\\
    Call the function provided as one of the arguments, which is doing the actual computation.

    \item \textbf{Send the callback}\\
    In case the callback was provided within the request, make the callback. The method that handles callback sending is implemented to be resilient by using retries and exponential backoff between fails.

\end{enumerate}

\end{document}
