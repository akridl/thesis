\documentclass[../main.tex]{subfiles}

\begin{document}

\begin{lstlisting}[language=Java, caption=Translate request, label={lst:translate-request}, numbers=none]
public class TranslateRequest {
    @ValidGitRepositoryURL
    String externalUrl;
}
\end{lstlisting}

For validation of the request, we use Jakarta Validation API\footnote{\url{https://jakarta.ee/specifications/bean-validation/}}. The translation request\footnote{\url{https://github.com/project-ncl/pnc-api/blob/akridl-thesis/src/main/java/org/jboss/pnc/api/reqour/dto/TranslateRequest.java}} has the form as shown in Figure \ref{lst:translate-request}. Validation is triggered by \textit{@ValidGitRepositoryURL} annotation\footnote{\url{https://github.com/project-ncl/pnc-api/blob/akridl-thesis/src/main/java/org/jboss/pnc/api/reqour/dto/validation/ValidGitRepositoryURL.java}} present also during runtime and being validated by \textit{GitRepositoryURLValidator}\footnote{\url{https://github.com/project-ncl/pnc-api/blob/akridl-thesis/src/main/java/org/jboss/pnc/api/reqour/dto/validation/GitRepositoryURLValidator.java}} during deserialization of the request.

The validator ensures the correct format of \textit{externalUrl} (as described in \ref{subsection:translation-analysis}). In addition, the validator internally uses parsed representation, which is later used by the translation service\footnote{\url{https://github.com/project-ncl/reqour/blob/main/core/src/main/java/org/jboss/pnc/reqour/service/TranslationServiceImpl.java##L35}}. Hence, leaving only minor adjustments of parsed tokens and the final concatenation for the service.

\subsubsection*{Attached PRs}
\subfile{./subsubsections/prs}

\end{document}
